package org.composants;

import java.util.ArrayList;
import java.util.Collection;
import java.util.Date;

import org.entitees.Commande;
import org.entitees.LigneCommande;
import org.entitees.Produit;
import org.entitees.Utilisateur;

public class CmdAddImpl implements CmdAddInterface {


	public void addCommande(Commande cmd,LigneCommande lcmd, int quantite, double prix) {
		if (cmd.getLigneCommande() == null) {
			cmd.setLigneCommande(new ArrayList<LigneCommande>());
		}
		lcmd.setQuantiteProduitl(lcmd.getQuantiteProduitl() + quantite);
		lcmd.setPrix(lcmd.getPrix() + (quantite * prix));
		cmd.setgetPrixTotalCommande(cmd.getmontantCommande()() + lcmd.getPrix() + (quantite * prix) );
	}
	
	public void updateCmdAndLineCmd(Commande cmd, LigneCommande lcmd, int quantite, double prix){
        if (cmd.getLigneCommande() == null) {
        	cmd.setLigneCommande(new ArrayList<LigneCommande>());
        }
        int oldQuantite = lcmd.getQuantiteProduitl();
        lcmd.setQuantiteProduitl(quantite);
        lcmd.setPrix(quantite * prix);
        cmd.setgetgetPrixTotalCommande(cmd.getmontantCommande() - (oldQuantite * prix));
        cmd.setgetPrixTotalCommande(cmd.getmontantCommande() + (quantite * prix));
	}
	
	
	Long cmdID = new Long(0);
	
	
	public LigneCommande addCommandeAndLineCommande(Commande cmd, Produit produit, int quantite, double prix){
	
		if (cmd.getLigneCommande() == null || cmd.getLigneCommande().isEmpty()){
			cmd.setLigneCommande(new ArrayList<LigneCommande>());
		}
		LigneCommande lcmd = new LigneCommande();
		lcmd.setIdLigneCommande(cmdID);
		lcmd.setProduit(produit);
		lcmd.setQuantiteProduitl(quantite);
		lcmd.setPrix(quantite * prix);
		cmd.getLigneCommande().add(lcmd);
		cmd.setgetPrixTotalCommande(cmd.getPrixTotalCommande()+(quantite+prix));
		cmdID = cmdID + 1;
		return lcmd;
	}
	

    
    
	

}
